{"title":"在Debian/Ubuntu上使用rclone挂载Google Drive网盘","date":"2020-12-02T02:56:07.000Z","date_formatted":{"ll":"2020年12月2日","L":"2020/12/02","MM-DD":"12-02"},"thumbnail":"https://cdn.jsdelivr.net/gh/gaowanliang/p/img/57883767_p0.png","link":"2020/12/02/rclone-mount-gd","comments":true,"tags":["教程"],"categories":["Google drive","rclone"],"updated":"2020-12-10T03:10:02.855Z","content":"<h1 id=\"安装\">安装<a href=\"#安装\" title=\"安装\"></a></h1><h2 id=\"安装rclone\">安装rclone<a href=\"#安装rclone\" title=\"安装rclone\"></a></h2><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://gwliang.com/rclone_debian.sh &amp;&amp; bash rclone_debian.sh</span><br></pre></td></tr></table></figure>\n<h2 id=\"获取api\">获取API<a href=\"#获取api\" title=\"获取API\"></a></h2><p>首先获取谷歌API凭据，先启用Google Drive API，启用地址：<a href=\"https://console.developers.google.com/apis/api/drive.googleapis.com/overview\" target=\"_blank\">【点击进入】</a>。\n<a href=\"https://imgchr.com/i/DI17wj\" target=\"_blank\"><img src=\"https://s3.ax1x.com/2020/12/02/DI17wj.png\" alt=\"DI17wj.png\"></a>\n再创建一个<code>OAuth client ID</code>，创建地址：<a href=\"https://console.developers.google.com/apis/credentials/oauthclient\" target=\"_blank\">【点击进入】</a>。应用类型选择<code>桌面程序</code>，名称自己填，这里博主我就保持默认。</p>\n<p><a href=\"https://imgchr.com/i/DIG6w4\" target=\"_blank\"><img src=\"https://s3.ax1x.com/2020/12/02/DIG6w4.png\" alt=\"DIG6w4.png\"></a></p>\n<p>之后将出现的<code>客户端 ID</code>和<code>客户端密钥</code> 准备好，接下来会用到。</p>\n<h2 id=\"初始化配置\">初始化配置<a href=\"#初始化配置\" title=\"初始化配置\"></a></h2><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rclone config</span><br></pre></td></tr></table></figure>\n<p>会出现以下信息：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">No remotes found - make a new one</span><br><span class=\"line\">n) New remote</span><br><span class=\"line\">s) Set configuration password</span><br><span class=\"line\">q) Quit config</span><br><span class=\"line\">n/s/q&gt; n</span><br><span class=\"line\">name&gt; gwl <span class=\"comment\"># 配置名称，随便填</span></span><br><span class=\"line\">Type of storage to configure.</span><br><span class=\"line\">Enter a string value. Press Enter <span class=\"keyword\">for</span> the default (<span class=\"string\">\"\"</span>).</span><br><span class=\"line\">Choose a number from below, or <span class=\"built_in\">type</span> <span class=\"keyword\">in</span> your own value</span><br><span class=\"line\"> 1 / 1Fichier</span><br><span class=\"line\">   \\ <span class=\"string\">\"fichier\"</span></span><br><span class=\"line\"> 2 / Alias <span class=\"keyword\">for</span> an existing remote</span><br><span class=\"line\">   \\ <span class=\"string\">\"alias\"</span></span><br><span class=\"line\"> 3 / Amazon Drive</span><br><span class=\"line\">   \\ <span class=\"string\">\"amazon cloud drive\"</span></span><br><span class=\"line\"> 4 / Amazon S3 Compliant Storage Provider (AWS, Alibaba, Ceph, Digital Ocean, Dreamhost, IBM COS, Minio, Tencent COS, etc)</span><br><span class=\"line\">   \\ <span class=\"string\">\"s3\"</span></span><br><span class=\"line\"> 5 / Backblaze B2</span><br><span class=\"line\">   \\ <span class=\"string\">\"b2\"</span></span><br><span class=\"line\"> 6 / Box</span><br><span class=\"line\">   \\ <span class=\"string\">\"box\"</span></span><br><span class=\"line\"> 7 / Cache a remote</span><br><span class=\"line\">   \\ <span class=\"string\">\"cache\"</span></span><br><span class=\"line\"> 8 / Citrix Sharefile</span><br><span class=\"line\">   \\ <span class=\"string\">\"sharefile\"</span></span><br><span class=\"line\"> 9 / Dropbox</span><br><span class=\"line\">   \\ <span class=\"string\">\"dropbox\"</span></span><br><span class=\"line\">10 / Encrypt/Decrypt a remote</span><br><span class=\"line\">   \\ <span class=\"string\">\"crypt\"</span></span><br><span class=\"line\">11 / FTP Connection</span><br><span class=\"line\">   \\ <span class=\"string\">\"ftp\"</span></span><br><span class=\"line\">12 / Google Cloud Storage (this is not Google Drive)</span><br><span class=\"line\">   \\ <span class=\"string\">\"google cloud storage\"</span></span><br><span class=\"line\">13 / Google Drive</span><br><span class=\"line\">   \\ <span class=\"string\">\"drive\"</span></span><br><span class=\"line\">14 / Google Photos</span><br><span class=\"line\">   \\ <span class=\"string\">\"google photos\"</span></span><br><span class=\"line\">15 / Hubic</span><br><span class=\"line\">   \\ <span class=\"string\">\"hubic\"</span></span><br><span class=\"line\">16 / In memory object storage system.</span><br><span class=\"line\">   \\ <span class=\"string\">\"memory\"</span></span><br><span class=\"line\">17 / Jottacloud</span><br><span class=\"line\">   \\ <span class=\"string\">\"jottacloud\"</span></span><br><span class=\"line\">18 / Koofr</span><br><span class=\"line\">   \\ <span class=\"string\">\"koofr\"</span></span><br><span class=\"line\">19 / Local Disk</span><br><span class=\"line\">   \\ <span class=\"string\">\"local\"</span></span><br><span class=\"line\">20 / Mail.ru Cloud</span><br><span class=\"line\">   \\ <span class=\"string\">\"mailru\"</span></span><br><span class=\"line\">21 / Mega</span><br><span class=\"line\">   \\ <span class=\"string\">\"mega\"</span></span><br><span class=\"line\">22 / Microsoft Azure Blob Storage</span><br><span class=\"line\">   \\ <span class=\"string\">\"azureblob\"</span></span><br><span class=\"line\">23 / Microsoft OneDrive</span><br><span class=\"line\">   \\ <span class=\"string\">\"onedrive\"</span></span><br><span class=\"line\">24 / OpenDrive</span><br><span class=\"line\">   \\ <span class=\"string\">\"opendrive\"</span></span><br><span class=\"line\">25 / OpenStack Swift (Rackspace Cloud Files, Memset Memstore, OVH)</span><br><span class=\"line\">   \\ <span class=\"string\">\"swift\"</span></span><br><span class=\"line\">26 / Pcloud</span><br><span class=\"line\">   \\ <span class=\"string\">\"pcloud\"</span></span><br><span class=\"line\">27 / Put.io</span><br><span class=\"line\">   \\ <span class=\"string\">\"putio\"</span></span><br><span class=\"line\">28 / QingCloud Object Storage</span><br><span class=\"line\">   \\ <span class=\"string\">\"qingstor\"</span></span><br><span class=\"line\">29 / SSH/SFTP Connection</span><br><span class=\"line\">   \\ <span class=\"string\">\"sftp\"</span></span><br><span class=\"line\">30 / Sugarsync</span><br><span class=\"line\">   \\ <span class=\"string\">\"sugarsync\"</span></span><br><span class=\"line\">31 / Tardigrade Decentralized Cloud Storage</span><br><span class=\"line\">   \\ <span class=\"string\">\"tardigrade\"</span></span><br><span class=\"line\">32 / Transparently chunk/split large files</span><br><span class=\"line\">   \\ <span class=\"string\">\"chunker\"</span></span><br><span class=\"line\">33 / Union merges the contents of several upstream fs</span><br><span class=\"line\">   \\ <span class=\"string\">\"union\"</span></span><br><span class=\"line\">34 / Webdav</span><br><span class=\"line\">   \\ <span class=\"string\">\"webdav\"</span></span><br><span class=\"line\">35 / Yandex Disk</span><br><span class=\"line\">   \\ <span class=\"string\">\"yandex\"</span></span><br><span class=\"line\">36 / http Connection</span><br><span class=\"line\">   \\ <span class=\"string\">\"http\"</span></span><br><span class=\"line\">37 / premiumize.me</span><br><span class=\"line\">   \\ <span class=\"string\">\"premiumizeme\"</span></span><br><span class=\"line\">38 / seafile</span><br><span class=\"line\">   \\ <span class=\"string\">\"seafile\"</span></span><br><span class=\"line\">Storage&gt; 13 <span class=\"comment\">#选择13，Google Drive，注意该序列号会随时变化，看清楚再填</span></span><br><span class=\"line\">** See <span class=\"built_in\">help</span> <span class=\"keyword\">for</span> drive backend at: https://rclone.org/drive/ **</span><br><span class=\"line\"></span><br><span class=\"line\">Google Application Client Id</span><br><span class=\"line\">Setting your own is recommended.</span><br><span class=\"line\">See https://rclone.org/drive/<span class=\"comment\">#making-your-own-client-id for how to create your own.</span></span><br><span class=\"line\">If you leave this blank, it will use an internal key <span class=\"built_in\">which</span> is low performance.</span><br><span class=\"line\">Enter a string value. Press Enter <span class=\"keyword\">for</span> the default (<span class=\"string\">\"\"</span>).</span><br><span class=\"line\">client_id&gt; xxxxxx.apps.googleusercontent.com <span class=\"comment\"># 这里输入客户端 ID</span></span><br><span class=\"line\">OAuth Client Secret</span><br><span class=\"line\">Leave blank normally.</span><br><span class=\"line\">Enter a string value. Press Enter <span class=\"keyword\">for</span> the default (<span class=\"string\">\"\"</span>).</span><br><span class=\"line\">client_secret&gt; xxxxxxxx <span class=\"comment\"># 这里输入客户端密钥</span></span><br><span class=\"line\">Scope that rclone should use when requesting access from drive.</span><br><span class=\"line\">Enter a string value. Press Enter <span class=\"keyword\">for</span> the default (<span class=\"string\">\"\"</span>).</span><br><span class=\"line\">Choose a number from below, or <span class=\"built_in\">type</span> <span class=\"keyword\">in</span> your own value</span><br><span class=\"line\"> 1 / Full access all files, excluding Application Data Folder.</span><br><span class=\"line\">   \\ <span class=\"string\">\"drive\"</span></span><br><span class=\"line\"> 2 / Read-only access to file metadata and file contents.</span><br><span class=\"line\">   \\ <span class=\"string\">\"drive.readonly\"</span></span><br><span class=\"line\">   / Access to files created by rclone only.</span><br><span class=\"line\"> 3 | These are visible <span class=\"keyword\">in</span> the drive website.</span><br><span class=\"line\">   | File authorization is revoked when the user deauthorizes the app.</span><br><span class=\"line\">   \\ <span class=\"string\">\"drive.file\"</span></span><br><span class=\"line\">   / Allows <span class=\"built_in\">read</span> and write access to the Application Data folder.</span><br><span class=\"line\"> 4 | This is not visible <span class=\"keyword\">in</span> the drive website.</span><br><span class=\"line\">   \\ <span class=\"string\">\"drive.appfolder\"</span></span><br><span class=\"line\">   / Allows <span class=\"built_in\">read</span>-only access to file metadata but</span><br><span class=\"line\"> 5 | does not allow any access to <span class=\"built_in\">read</span> or download file content.</span><br><span class=\"line\">   \\ <span class=\"string\">\"drive.metadata.readonly\"</span></span><br><span class=\"line\">scope&gt; 1 <span class=\"comment\"># 这里输入1，完全访问所有文件，不包括应用程序数据文件夹。</span></span><br><span class=\"line\">ID of the root folder</span><br><span class=\"line\">Leave blank normally.</span><br><span class=\"line\"></span><br><span class=\"line\">Fill <span class=\"keyword\">in</span> to access <span class=\"string\">\"Computers\"</span> folders (see docs), or <span class=\"keyword\">for</span> rclone to use</span><br><span class=\"line\">a non root folder as its starting point.</span><br><span class=\"line\"></span><br><span class=\"line\">Enter a string value. Press Enter <span class=\"keyword\">for</span> the default (<span class=\"string\">\"\"</span>).</span><br><span class=\"line\">root_folder_id&gt; </span><br><span class=\"line\">Service Account Credentials JSON file path </span><br><span class=\"line\">Leave blank normally.</span><br><span class=\"line\">Needed only <span class=\"keyword\">if</span> you want use SA instead of interactive login.</span><br><span class=\"line\"></span><br><span class=\"line\">Leading `~` will be expanded <span class=\"keyword\">in</span> the file name as will environment variables such as `<span class=\"variable\">$&#123;RCLONE_CONFIG_DIR&#125;</span>`.</span><br><span class=\"line\"></span><br><span class=\"line\">Enter a string value. Press Enter <span class=\"keyword\">for</span> the default (<span class=\"string\">\"\"</span>).</span><br><span class=\"line\">service_account_file&gt; </span><br><span class=\"line\">Edit advanced config? (y/n)</span><br><span class=\"line\">y) Yes</span><br><span class=\"line\">n) No (default)</span><br><span class=\"line\">y/n&gt; n <span class=\"comment\"># 输入n</span></span><br><span class=\"line\">Remote config</span><br><span class=\"line\">Use auto config?</span><br><span class=\"line\"> * Say Y <span class=\"keyword\">if</span> not sure</span><br><span class=\"line\"> * Say N <span class=\"keyword\">if</span> you are working on a remote or headless machine</span><br><span class=\"line\">y) Yes (default)</span><br><span class=\"line\">n) No</span><br><span class=\"line\">y/n&gt; n <span class=\"comment\"># 输入n</span></span><br><span class=\"line\">Please go to the following link: https://accounts.google.com/o/oauth2/auth?xxxxxx</span><br><span class=\"line\"><span class=\"comment\"># 这里进入提示的链接，复制验证码</span></span><br><span class=\"line\">Log <span class=\"keyword\">in</span> and authorize rclone <span class=\"keyword\">for</span> access</span><br><span class=\"line\">Enter verification code&gt; 4/1AY0e- <span class=\"comment\"># 这里输入验证码</span></span><br><span class=\"line\">Configure this as a team drive?</span><br><span class=\"line\">y) Yes</span><br><span class=\"line\">n) No (default)</span><br><span class=\"line\">y/n&gt; n <span class=\"comment\"># 输入n</span></span><br><span class=\"line\">--------------------</span><br><span class=\"line\">[gwl]</span><br><span class=\"line\"><span class=\"built_in\">type</span> = drive</span><br><span class=\"line\">client_id = xxxxx.apps.googleusercontent.com</span><br><span class=\"line\">client_secret = xxxxx</span><br><span class=\"line\">scope = drive</span><br><span class=\"line\">token = &#123;<span class=\"string\">\"access_token\"</span>:<span class=\"string\">\"ya29.a0AfH6SMD66Wxxxx\"</span>,<span class=\"string\">\"token_type\"</span>:<span class=\"string\">\"Bearer\"</span>,<span class=\"string\">\"refresh_token\"</span>:<span class=\"string\">\"1//09SDe5e04DxQrCgYIARAAGAkSNwF\"</span>,<span class=\"string\">\"expiry\"</span>:<span class=\"string\">\"2020-12-02T10:44:56.526147875Z\"</span>&#125;</span><br><span class=\"line\">--------------------</span><br><span class=\"line\">y) Yes this is OK (default)</span><br><span class=\"line\">e) Edit this remote</span><br><span class=\"line\">d) Delete this remote</span><br><span class=\"line\">y/e/d&gt; y</span><br><span class=\"line\">Current remotes:</span><br><span class=\"line\"></span><br><span class=\"line\">Name                 Type</span><br><span class=\"line\">====                 ====</span><br><span class=\"line\">gwl                  drive</span><br><span class=\"line\"></span><br><span class=\"line\">e) Edit existing remote</span><br><span class=\"line\">n) New remote</span><br><span class=\"line\">d) Delete remote</span><br><span class=\"line\">r) Rename remote</span><br><span class=\"line\">c) Copy remote</span><br><span class=\"line\">s) Set configuration password</span><br><span class=\"line\">q) Quit config</span><br><span class=\"line\">e/n/d/r/c/s/q&gt; q <span class=\"comment\"># 输入q保存退出</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"挂载为磁盘\">挂载为磁盘<a href=\"#挂载为磁盘\" title=\"挂载为磁盘\"></a></h2><p>#新建本地文件夹，路径自己定，即下面的LocalFolder</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir /root/GoogleDrive</span><br><span class=\"line\"><span class=\"comment\"># 挂载为磁盘，下面的DriveName、Folder、LocalFolder参数根据说明自行替换</span></span><br><span class=\"line\">rclone mount DriveName:Folder LocalFolder --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --<span class=\"built_in\">umask</span> 000</span><br></pre></td></tr></table></figure>\n<p><code>DriveName</code>为初始化配置填的<code>name</code>，<code>Folder</code>为<code>Google Drive里的文件夹</code>，<code>LocalFolder</code>为VPS上的<code>本地文件夹</code>。</p>\n<p>比如高玩梁按照刚才的操作挂载指令就是：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rclone mount gwl:&#x2F; &#x2F;root&#x2F;GoogleDrive --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000</span><br></pre></td></tr></table></figure>\n\n<p>挂载成功后，输入<code>df -h</code>命令查看即可！</p>\n<p><a href=\"https://imgchr.com/i/DIYEUH\" target=\"_blank\"><img src=\"https://s3.ax1x.com/2020/12/02/DIYEUH.png\" alt=\"DIYEUH.png\"></a></p>\n<h1 id=\"开机自启\">开机自启<a href=\"#开机自启\" title=\"开机自启\"></a></h1><p>先新建systemd配置文件，适用CentOS 7、Debian 8+、Ubuntu 16+。</p>\n<p>再使用命令：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 将后面修改成你上面手动运行命令中，除了rclone的全部参数</span></span><br><span class=\"line\"><span class=\"built_in\">command</span>=<span class=\"string\">\"mount DriveName:Folder LocalFolder --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000\"</span></span><br><span class=\"line\"><span class=\"comment\">#以下是一整条命令，一起复制到SSH客户端运行</span></span><br><span class=\"line\">cat &gt; /etc/systemd/system/rclone.service &lt;&lt;EOF</span><br><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Rclone</span><br><span class=\"line\">After=network-online.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Type=simple</span><br><span class=\"line\">ExecStart=$(<span class=\"built_in\">command</span> -v rclone) <span class=\"variable\">$&#123;command&#125;</span></span><br><span class=\"line\">Restart=on-abort</span><br><span class=\"line\">User=root</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=default.target</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<h2 id=\"开始启动：\">开始启动：<a href=\"#开始启动：\" title=\"开始启动：\"></a></h2><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl start rclone</span><br></pre></td></tr></table></figure>\n<h2 id=\"设置开机自启：\">设置开机自启：<a href=\"#设置开机自启：\" title=\"设置开机自启：\"></a></h2><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl enable rclone</span><br></pre></td></tr></table></figure>\n<h2 id=\"其他命令：\">其他命令：<a href=\"#其他命令：\" title=\"其他命令：\"></a></h2><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">重启：systemctl restart rclone</span><br><span class=\"line\">停止：systemctl stop rclone</span><br><span class=\"line\">状态：systemctl status rclone</span><br></pre></td></tr></table></figure>\n<p>如果你想挂载多个网盘，那么将systemd配置文件的<code>rclone.service</code>改成<code>rclone1.service</code>即可，重启动什么的同样换成<code>rclone1</code>。</p>\n","next":{"title":"如何优雅的批量重命名文件","link":"2020/11/22/batch-rename-file"},"plink":"https://gwliang.com/2020/12/02/rclone-mount-gd/","toc":[{"id":"安装","title":"安装","index":"1","children":[{"id":"安装rclone","title":"安装rclone","index":"1.1"},{"id":"获取api","title":"获取API","index":"1.2"},{"id":"初始化配置","title":"初始化配置","index":"1.3"},{"id":"挂载为磁盘","title":"挂载为磁盘","index":"1.4"}]},{"id":"开机自启","title":"开机自启","index":"2","children":[{"id":"开始启动：","title":"开始启动：","index":"2.1"},{"id":"设置开机自启：","title":"设置开机自启：","index":"2.2"},{"id":"其他命令：","title":"其他命令：","index":"2.3"}]}],"reward":true,"copyright":{"license":"自由转载-非商用-禁止演绎-保持署名(<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","author":"Gaowan Liang","link":"<a href=\"https://gwliang.com/2020/12/02/rclone-mount-gd/\" title=\"在Debian/Ubuntu上使用rclone挂载Google Drive网盘\">https://gwliang.com/2020/12/02/rclone-mount-gd/</a>"}}